{"ast":null,"code":"import axios from\"axios\";import{useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";var KakaoCallback=function KakaoCallback(){var navigate=useNavigate();var code=new URL(document.location.toString()).searchParams.get(\"code\");var grantType=\"authorization_code\";var clientId=\"\".concat(process.env.REACT_APP_KAKAO_CLIENT_ID);var redirectUri=\"\".concat(process.env.REACT_APP_KAKAO_REDIRECT_URI);useEffect(function(){axios.post(\"https://kauth.kakao.com/oauth/token?grant_type=\".concat(grantType,\"&client_id=\").concat(clientId,\"&redirect_uri=\").concat(redirectUri,\"&code=\").concat(code),{},{headers:{\"Content-type\":\"application/x-www-form-urlencoded;charset=utf-8\"}}).then(function(response){console.log(\"auth token received : \"+JSON.stringify(response));var access_token=response.data.access_token;if(access_token){axios.post(\"https://kapi.kakao.com/v2/user/me\",{},{headers:{Authorization:\"Bearer \".concat(access_token),\"Content-type\":\"application/x-www-form-urlencoded;charset=utf-8\"}}).then(function(response){console.log(\"user data api call : \"+JSON.stringify(response));});}});navigate(\"/home\");},[]);return/*#__PURE__*/_jsx(\"p\",{children:\"KakaoLogin Success\"});};export default KakaoCallback;","map":{"version":3,"names":["axios","useEffect","useNavigate","jsx","_jsx","KakaoCallback","navigate","code","URL","document","location","toString","searchParams","get","grantType","clientId","concat","process","env","REACT_APP_KAKAO_CLIENT_ID","redirectUri","REACT_APP_KAKAO_REDIRECT_URI","post","headers","then","response","console","log","JSON","stringify","access_token","data","Authorization","children"],"sources":["C:/workspace/careerly-clone/frontend/src/auth/KakaoCallback.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst KakaoCallback = () => {\r\n  const navigate = useNavigate();\r\n  const code = new URL(document.location.toString()).searchParams.get(\"code\");\r\n  const grantType = \"authorization_code\";\r\n  const clientId = `${process.env.REACT_APP_KAKAO_CLIENT_ID}`;\r\n  const redirectUri = `${process.env.REACT_APP_KAKAO_REDIRECT_URI}`;\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\r\n        `https://kauth.kakao.com/oauth/token?grant_type=${grantType}&client_id=${clientId}&redirect_uri=${redirectUri}&code=${code}`,\r\n        {},\r\n        {\r\n          headers: {\r\n            \"Content-type\": \"application/x-www-form-urlencoded;charset=utf-8\",\r\n          },\r\n        }\r\n      )\r\n      .then((response) => {\r\n        console.log(\"auth token received : \" + JSON.stringify(response));\r\n        const { access_token } = response.data;\r\n\r\n        if (access_token) {\r\n          axios\r\n            .post(\r\n              \"https://kapi.kakao.com/v2/user/me\",\r\n              {},\r\n              {\r\n                headers: {\r\n                  Authorization: `Bearer ${access_token}`,\r\n                  \"Content-type\":\r\n                    \"application/x-www-form-urlencoded;charset=utf-8\",\r\n                },\r\n              }\r\n            )\r\n            .then((response) => {\r\n              console.log(\"user data api call : \" + JSON.stringify(response));\r\n            });\r\n        }\r\n      });\r\n\r\n    navigate(\"/home\");\r\n  }, []);\r\n\r\n  return <p>KakaoLogin Success</p>;\r\n};\r\n\r\nexport default KakaoCallback;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE/C,GAAM,CAAAC,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CAC1B,GAAM,CAAAC,QAAQ,CAAGJ,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAK,IAAI,CAAG,GAAI,CAAAC,GAAG,CAACC,QAAQ,CAACC,QAAQ,CAACC,QAAQ,CAAC,CAAC,CAAC,CAACC,YAAY,CAACC,GAAG,CAAC,MAAM,CAAC,CAC3E,GAAM,CAAAC,SAAS,CAAG,oBAAoB,CACtC,GAAM,CAAAC,QAAQ,IAAAC,MAAA,CAAMC,OAAO,CAACC,GAAG,CAACC,yBAAyB,CAAE,CAC3D,GAAM,CAAAC,WAAW,IAAAJ,MAAA,CAAMC,OAAO,CAACC,GAAG,CAACG,4BAA4B,CAAE,CAEjEpB,SAAS,CAAC,UAAM,CACdD,KAAK,CACFsB,IAAI,mDAAAN,MAAA,CAC+CF,SAAS,gBAAAE,MAAA,CAAcD,QAAQ,mBAAAC,MAAA,CAAiBI,WAAW,WAAAJ,MAAA,CAAST,IAAI,EAC1H,CAAC,CAAC,CACF,CACEgB,OAAO,CAAE,CACP,cAAc,CAAE,iDAClB,CACF,CACF,CAAC,CACAC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClBC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAGC,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAAC,CAAC,CAChE,GAAQ,CAAAK,YAAY,CAAKL,QAAQ,CAACM,IAAI,CAA9BD,YAAY,CAEpB,GAAIA,YAAY,CAAE,CAChB9B,KAAK,CACFsB,IAAI,CACH,mCAAmC,CACnC,CAAC,CAAC,CACF,CACEC,OAAO,CAAE,CACPS,aAAa,WAAAhB,MAAA,CAAYc,YAAY,CAAE,CACvC,cAAc,CACZ,iDACJ,CACF,CACF,CAAC,CACAN,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClBC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAGC,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAAC,CAAC,CACjE,CAAC,CAAC,CACN,CACF,CAAC,CAAC,CAEJnB,QAAQ,CAAC,OAAO,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CAEN,mBAAOF,IAAA,MAAA6B,QAAA,CAAG,oBAAkB,CAAG,CAAC,CAClC,CAAC,CAED,cAAe,CAAA5B,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}